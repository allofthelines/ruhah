{% extends "core/base.html" %}
{% load static %}

{% block scripts %}
  <script src="{% static "core/home.js" %}" defer></script>
{% endblock %}

{% block content %}
  {% if user.is_authenticated %}
    <!-- Display current page for logged-in users -->
    <form id="outfits-form" method="post">
      {% csrf_token %}
      <input id="winner-input" name="winner" hidden>

      <div id="outfits-container">
        {% for outfit in outfits %}
          <input id="outfit{{ forloop.counter }}-input" name="outfit{{ forloop.counter }}" value="{{ outfit.pk }}" hidden>
          <div class="outfit">
            <input id="outfit{{ forloop.counter }}-image" type="image" class="outfit-image" src="{{ outfit.image.url }}">
            <br>
          </div>
          {% if forloop.first %}
            <div id="outfit-separator"></div>
          {% endif %}
        {% endfor %}
      </div>
    </form>
  {% else %}
    <!-- Display new landing page for guest users -->
    <div id="landing-container" style="width: 90%; max-width: 2000px; margin: -25px auto 0 auto;">

      <!-- contHELLO -->
      <div id="contHELLO" style="text-align: center; margin-bottom: 70px;">
        <img src="{% static 'images/landing/balenciaga1.jpg' %}" alt="Balenciaga Image" style="width: 100%;">
        <h1 class="goodbye-decisions">goodbye decisions</h1>
        <h1 class="goodbye-decisions" style="font-weight:300; margin-top: -25px;">hello <a href="https://ruhah.com/accounts/slayyyer/">@slayyyer</a></h1>
        <p style="font-size: 18px; max-width: 600px; margin: 0 auto;">"I’ve always wanted to be in fashion, you know, something glamorous, like styling for runway shows or whatever. Instead, I’m trapped in this beige cubicle nightmare as an office assistant for a pharmaceutical company—Big Pharma Barbie. But listen, the office looks *better* because I’m there. I’m handing out unsolicited style tips like I’m doing charity work. Like, "Hey, Cindy, ever heard of a blazer that isn't navy?" I just lied. I’m actually a stylist, professionally. And yes, I’m incredibly good at it. Every moment is pure ecstasy. Lied again. Life’s a runway, and I’m just here spilling coffee on the catwalk."</p>
      </div>

      <!-- WHAT IS SECTION -->
      <h2 style="text-align: center; margin: 50px 0px 78px 0px;">AT RUHAH YOU CAN</h2>

      <div id="contWHAT">
        <!-- Image container -->
        <div id="contWHAT-img">
          <img src="{% static 'images/landing/asanser1.jpg' %}" alt="What is Image" style="width: 100%;">
        </div>
      </div>

      <!-- HOW IT WORKS -->
      <h2 style="text-align: center; margin: 70px 0 40px 0;">POV#1: YOU<br><span id="dynamic-text">WANT STYLING ADVICE</span><br>SO YOU</h2>

      <!-- contHOW -->
      <div id="contHOW">
        <!-- contHOW1 -->
        <div id="contHOW1" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>1. ASK FOR A FIT</h3>
          <img src="{% static 'images/landing/ask1.jpg' %}" alt="Outfit 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">describing your mood, the trend you're into, the occasion - anything that would help the stylist get it.</p>
        </div>

        <!-- contHOW2 -->
        <div id="contHOW2" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>2. GET A FIT</h3>
          <img src="{% static 'images/landing/outfit1.jpeg' %}" alt="Outfit 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">curated by our users and (human) stylists tailor-made for your ask.</p>
        </div>

        <!-- contHOW3 -->
        <div id="contHOW3" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>3. PURCHASE</h3>
          <img src="{% static 'images/landing/item1.jpg' %}" alt="Item 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">the clothes you like from the outfits recommended.</p>
        </div>
      </div>

      <!-- ARE YOU FEELING -->
      <!-- <h2 style="text-align: center; margin: 70px 0 50px 0;">POV#2: YOU LIKE<br><span id="dynamic-text-pov2-line1">TELLING PEOPLE</span><br><span id="dynamic-text-pov2-line2">WHAT TO DO</span><br>SO YOU</h2> -->
      <h2 style="text-align: center; margin: 70px 0 50px 0;">POV#2: YOU LIKE<br><span id="dynamic-text-pov2-line1">FASHION</span><br><span id="dynamic-text-pov2-line2">SO YOU</span><br></h2>

      <div id="contHOW">
        <!-- contHOW1 -->
        <div id="contHOW1" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>1. VISIT THE STUDIO</h3>
          <img src="{% static 'images/landing/studio-asks2.jpg' %}" alt="Outfit 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">browse other user's active asks and choose the one(s) you want to style.</p>
        </div>

        <!-- contHOW2 -->
        <div id="contHOW2" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>2. CREATE AN OUTFIT</h3>
          <img src="{% static 'images/landing/studio-create1.jpg' %}" alt="Outfit 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">by browsing our catalogue and choosing the clothes or accessories that best fit your vision.</p>
        </div>

        <!-- contHOW3 -->
        <div id="contHOW3" style="flex: 1; margin: 20px; margin-right: -10px; margin-left: -10px;">
          <h3>3. GET PAID</h3>
          <img src="{% static 'images/landing/studio-submit1.jpg' %}" alt="Item 1" style="width: 100%;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin: 0 auto;">every time a user chooses to purchase an item from your outfit.</p>
        </div>
      </div>


      <!-- contFEELING -->
      <div id="contFEELING" style="display: none;">
        <!-- contFEELING1 -->
        <div id="contFEELING1" style="flex: 1;">
          <h3>FEELING CREATIVE?</h3>
          <h4 style="font-family: Orbitron; font-weight: 500; font-style: normal; font-size: 25px; margin-top: -18px;">STYLE AND EARN</h4>
          <img src="{% static 'images/landing/feeling1.png' %}" alt="Feeling 1" style="width: 100%; margin-top: -25px;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin-top: 20;">money by creating outfits for others in the studio.</p>
        </div>

        <!-- contFEELING2 -->
        <div id="contFEELING2" style="flex: 1;">
          <h3>FEELING ADVENTUROUS?</h3>
          <h4 style="font-family: Orbitron; font-weight: 500; font-style: normal; font-size: 25px; margin-top: -18px;">EXPLORE</h4>
          <img src="{% static 'images/landing/feeling2.png' %}" alt="Feeling 2" style="width: 100%; margin-top: -25px;">
          <p style="font-size: 18px; width: 80%; text-align: center; margin-top: 20;">follow and keep up with users and trending outfits for inspiration.</p>
        </div>
      </div>

    </div>





<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Script for POV: YOU ARE section (previous one)
    const textElement = document.getElementById("dynamic-text");
    const phrases = ["JUST CAN'T DECIDE", "WANT STYLING ADVICE", "DON'T HAVE THE TIME"];
    let currentPhraseIndex = 0;

    setInterval(function() {
      currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
      textElement.textContent = phrases[currentPhraseIndex];
    }, 1000); // Change every 1 second

    // Script for POV#2: YOU LIKE section (new one)
    const line1Element = document.getElementById("dynamic-text-pov2-line1");
    const line2Element = document.getElementById("dynamic-text-pov2-line2");
    const phrasesPOV2 = [
      { line1: "DECISIONS", line2: "SO YOU" },
      { line1: "FASHION", line2: "SO YOU" }, // Non-breaking space for empty line with space line2: "\u00A0"
      { line1: "MONEY", line2: "SO YOU" }    // Non-breaking space for empty line with space line2: "\u00A0"
    ];
    let currentPhraseIndexPOV2 = 0;

    setInterval(function() {
      const phrase = phrasesPOV2[currentPhraseIndexPOV2];
      line1Element.textContent = phrase.line1;
      line2Element.innerHTML = phrase.line2;
      currentPhraseIndexPOV2 = (currentPhraseIndexPOV2 + 1) % phrasesPOV2.length;
    }, 1000); // Change every 1 second
  });
</script>





    <!-- Inline CSS for desktop and mobile views -->
    <style>
      /* Align the items at the top in contHOW and contFEELING */
      #contHOW, #contFEELING {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: flex-start;
        margin: 0 auto 50px auto;
        width: 100%;
      }

      /* Align items within individual containers */
      #contHOW1, #contHOW2, #contHOW3, #contFEELING1, #contFEELING2 {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }

      h3 {
          font-size: 20px;
      }

      #contHOW h3 {
          margin-bottom: -2px;
          font-weight: 600;
      }





      /* For desktop mode */
      @media (min-width: 768px) {

        #landing-container {
          width: 90%;
          max-width: 2000px;
        }

        #contWHAT-img {
          flex: 1 1 40%;
          max-width: 40%;
          margin: 0 auto;
        }

          #contHOW {
            display: flex;
            flex-wrap: nowrap;
            justify-content: space-between; /* Space between items */
            align-items: flex-start;
            gap: 20px; /* Add a gap between items to ensure no overlap */
            margin: 0 auto 50px auto;
            width: 100%;
          }

          #contHOW1, #contHOW2, #contHOW3 {
            flex: 1 1 calc(33.333% - 20px); /* Equal width, accounting for the gap */
            margin: 0; /* Remove the extra margin */
          }
      }






      /* For mobile mode */
      @media (max-width: 767px) {

        #landing-container {
            width: 100%;
        }

        .goodbye-decisions  {
          white-space: nowrap;
          font-size: calc(4vw + 10px); /* Dynamically adjust font size */
          max-width: 100%;
          overflow: hidden;
          display: block;
        }

        #contHELLO img {
          content: url("{% static 'images/landing/polaroid1.jpg' %}");
        }

        #contHELLO p {
          max-width: 500px;
          margin: 0 auto;
        }

        #contHOW, #contFEELING {
          display: block;
          justify-content: center;
          margin: 0 auto;
        }

        #contHOW1, #contHOW2, #contHOW3, #contFEELING1, #contFEELING2 {
          margin: 0 auto;
        }

        #contFEELING2 {
            margin-top: 40px;
        }
      }
    </style>

  {% endif %}
{% endblock %}